!function(){function e(t,o,n){var s=e.resolve(t);if(null==s){n=n||t,o=o||"root";var r=new Error('Failed to require "'+n+'" from "'+o+'"');throw r.path=n,r.parent=o,r.require=!0,r}var i=e.modules[s];if(!i._resolving&&!i.exports){var c={};c.exports={},c.client=c.component=!0,i._resolving=!0,i.call(this,c.exports,e.relative(s),c),delete i._resolving,i.exports=c.exports}return i.exports}e.modules={},e.aliases={},e.resolve=function(t){"/"===t.charAt(0)&&(t=t.slice(1));for(var o=[t,t+".js",t+".json",t+"/index.js",t+"/index.json"],n=0;n<o.length;n++){var t=o[n];if(e.modules.hasOwnProperty(t))return t;if(e.aliases.hasOwnProperty(t))return e.aliases[t]}},e.normalize=function(e,t){var o=[];if("."!=t.charAt(0))return t;e=e.split("/"),t=t.split("/");for(var n=0;n<t.length;++n)".."==t[n]?e.pop():"."!=t[n]&&""!=t[n]&&o.push(t[n]);return e.concat(o).join("/")},e.register=function(t,o){e.modules[t]=o},e.alias=function(t,o){if(!e.modules.hasOwnProperty(t))throw new Error('Failed to alias "'+t+'", it does not exist');e.aliases[o]=t},e.relative=function(t){function o(e,t){for(var o=e.length;o--;)if(e[o]===t)return o;return-1}function n(o){var s=n.resolve(o);return e(s,t,o)}var s=e.normalize(t,"..");return n.resolve=function(n){var r=n.charAt(0);if("/"==r)return n.slice(1);if("."==r)return e.normalize(s,n);var i=t.split("/"),c=o(i,"deps")+1;return c||(c=0),n=i.slice(0,c+1).join("/")+"/deps/"+n},n.exists=function(t){return e.modules.hasOwnProperty(n.resolve(t))},n},e.register("simplesocket/lib/index.js",function(e,t,o){function n(e,t,o){var n=this;this.options=o||{},this.url=e,this.protocols=t,this.reconnectDelay=this.options.reconnectDelay||500,this.closeDelay=this.options.closeDelay||5e3,this.currentDelay=this.reconnectDelay,this.readyState=WebSocket.CONNECTING,this.forcedClose=!1,this.timedOut=!1,window.addEventListener("offline",function(){n.close()},!1),window.addEventListener("online",function(){n.connect()},!1),this.connect()}o.exports=n,n.prototype.connect=function(e){var t=this;this.socket=3==WebSocket.length?new WebSocket(this.url,this.protocols,this.options):this.protocols?new WebSocket(this.url,this.protocols):new WebSocket(this.url),this.onconnecting&&this.onconnecting();var o=setTimeout(function(){t.timedOut=!0,t.socket.readyState!==WebSocket.CLOSED&&t.socket.close(),t.timedOut=!1},this.closeDelay);this.socket.onopen=function(n){clearTimeout(o),t.readyState=WebSocket.OPEN,e=!1,t.currentDelay=t.reconnectDelay,t.onopen&&t.onopen(n)},this.socket.onclose=function(n){clearTimeout(o),t.socket=null,t.forcedClose?(t.readyState=WebSocket.CLOSED,t.onclose&&t.onclose(n),t.currentDelay=t.reconnectDelay):(t.readyState=WebSocket.CONNECTING,t.onconnecting&&t.onconnecting(),e||t.timedOut||(t.onclose&&t.onclose(n),t.currentDelay=t.reconnectDelay),setTimeout(function(){t.connect(!0),t.currentDelay*=2},t.currentDelay))},this.socket.onmessage=function(e){t.onmessage&&t.onmessage(e)},this.socket.onerror=function(e){t.onerror&&t.onerror(e)}},n.prototype.send=function(e){return this.socket?this.socket.send(e):void 0},n.prototype.close=function(){this.forcedClose=!0,this.socket&&this.socket.close()}}),e.alias("simplesocket/lib/index.js","simplesocket/index.js"),"object"==typeof exports?module.exports=e("simplesocket"):"function"==typeof define&&define.amd?define(function(){return e("simplesocket")}):this.SimpleSocket=e("simplesocket")}();